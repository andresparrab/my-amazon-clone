(this["webpackJsonpmy-amazon-clone"]=this["webpackJsonpmy-amazon-clone"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(3),s=n.n(a),i=n(24),r=n.n(i),o=(n(60),n(6)),l=n(14),d=n(9),j="/basket",u="/login",b="/checkout",m="/orders",O=n(11),h=n(23),p=(n(61),function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),s=n[0],i=n[1],r=Object(a.useState)(0),l=Object(o.a)(r,2),d=l[0],j=l[1],u=Object(a.useState)(null),b=Object(o.a)(u,2),m=b[0],O=b[1],h=function(){var e=setInterval((function(){j((function(t){return t<100?t+.5:(clearInterval(e),t)}))}),20);O(e)},p=function(){clearInterval(Number(m))};return Object(a.useEffect)((function(){100===d&&(p(),i(!0),setTimeout((function(){e.dispatch({type:"REMOVE_NOTIFICATION",id:e.id})}),900))}),[d]),Object(a.useEffect)((function(){h()}),[]),Object(c.jsxs)("div",{onMouseEnter:p,onMouseLeave:h,className:"notification_item ".concat("SUCCESS"===e.type?"success":"error"," ").concat(s?"exit":""),children:[Object(c.jsx)("h4",{className:"notification_title",children:"Number of item(s) added: "}),Object(c.jsxs)("div",{className:"itemInfo",children:[Object(c.jsx)("img",{className:"itemSmall",src:e.image}),Object(c.jsx)("p",{children:e.message})]}),Object(c.jsx)("div",{className:"bar",style:{width:"".concat(d,"%")}})]})}),x=(n(62),n(117)),v=Object(a.createContext)(null),g=function(e){var t=Object(a.useReducer)((function(e,t){switch(t.type){case"ADD_NOTIFICATION":return[].concat(Object(h.a)(e),[Object(O.a)({},t.payload)]);case"REMOVE_NOTIFICATION":return e.filter((function(e){return e.id!==t.id}));default:return e}}),[]),n=Object(o.a)(t,2),s=n[0],i=n[1];return Object(c.jsxs)(v.Provider,{value:i,children:[Object(c.jsx)("div",{className:"notification_wrapper",children:s.map((function(e){return Object(c.jsx)(p,Object(O.a)({dispatch:i},e),e.id)}))}),Object(c.jsx)("div",{children:e.children})]})},f=Object(a.createContext)({}),_=function(e){var t=e.reducer,n=e.initialState,s=e.children;return Object(c.jsx)(f.Provider,{value:Object(a.useReducer)(t,n),children:s})},N=function(){return Object(a.useContext)(f)},S=(n(63),function(e){var t=e.title,n=e.price,s=e.rating,i=e.image,r=e.id,l=e.hideButton,d=function(){var e=Object(a.useContext)(v);return function(t){e({type:"ADD_NOTIFICATION",payload:Object(O.a)({id:Object(x.a)()},t)})}}(),j=N(),u=Object(o.a)(j,2),b=(u[0].basket,u[1]);return Object(c.jsxs)("div",{className:"product",children:[Object(c.jsxs)("div",{className:"product_info",children:[Object(c.jsx)("p",{children:t}),Object(c.jsxs)("p",{className:"product_price",children:[Object(c.jsx)("small",{children:"$"}),Object(c.jsx)("strong",{children:n})]}),Object(c.jsx)("div",{className:"product_rating",children:Array(s).fill(null).map((function(e,t){return Object(c.jsx)("p",{className:"_product_star",children:"\u2605"})}))})]}),Object(c.jsx)("div",{className:"product_img",children:Object(c.jsx)("img",{src:i,alt:"product_image"})}),Object(c.jsx)("div",{children:!l&&Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"product_button",onClick:function(){b({type:"ADD_TO_BASKET",item:{id:r,title:t,image:i,price:n,rating:s}}),b({type:"DEFAULT"}),d({type:"SUCCESS",image:i,message:t.substr(0,27)})},children:"Add to basket"})})})]})}),k=(n(64),n(38),function(){return Object(c.jsx)("div",{className:"home",children:Object(c.jsx)(g,{children:Object(c.jsxs)("div",{className:"home_container",children:[Object(c.jsx)("img",{className:"home_image",src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg",alt:"banner image"}),Object(c.jsxs)("div",{className:"home_row",children:[Object(c.jsx)(S,{id:"12321341",title:"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback",price:11.96,rating:5,image:"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg"}),Object(c.jsx)(S,{id:"49538094",title:"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl",price:69,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg"})]}),Object(c.jsxs)("div",{className:"home_row",children:[Object(c.jsx)(S,{id:"4903850",title:"Samsung Fitness tracker ",price:199.99,rating:3,image:"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg"}),Object(c.jsx)(S,{id:"23445930",title:"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric",price:100,rating:3,image:"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$"}),Object(c.jsx)(S,{id:"3254354345",title:"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)",price:200,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg"})]}),Object(c.jsx)("div",{className:"home_row",children:Object(c.jsx)(S,{id:"90829332",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440",price:239,rating:5,image:"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg"})})]})})})}),y=(n(65),n(29)),C=n.n(y),A=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},E=function(e,t){switch(t.type){case"ADD_TO_BASKET":return Object(O.a)(Object(O.a)({},e),{},{basket:[].concat(Object(h.a)(e.basket),[t.item])});case"REMOVE_FROM_BASKET":var n=e.basket.findIndex((function(e){return e.id===t.id})),c=Object(h.a)(e.basket);return n>=0?(c.splice(n,1),console.warn("Item INDEX IS:",n)):console.warn("Cant remove product (id: ".concat(t.id,") as is not in the basket!")),Object(O.a)(Object(O.a)({},e),{},{basket:c});case"SET_USER":return Object(O.a)(Object(O.a)({},e),{},{user:t.user});case"EMPTY_BASKET":return Object(O.a)(Object(O.a)({},e),{},{basket:[]});case"DEFAULT":return Object(O.a)(Object(O.a)({},e),{},{basket:Object(h.a)(e.basket)})}return t.type,e},T=function(){var e=Object(d.f)(),t=N(),n=Object(o.a)(t,2),a=n[0].basket;n[1];return Object(c.jsxs)("div",{className:"subtotal",children:[Object(c.jsx)(C.a,{renderText:function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("p",{children:["Subtotal (",a.length," items): ",Object(c.jsx)("strong",{children:e})]}),Object(c.jsxs)("small",{className:"subtotal__gift",children:[Object(c.jsx)("input",{type:"checkbox"})," This order contains a gift!!"]})]})},decimalScale:2,value:A(a),displayType:"text",thousandSeparator:!0,prefix:"$"}),Object(c.jsx)("button",{className:"product_button",onClick:function(t){return e.push("/checkout")},children:"Proceed to Checkout"})]})},w=(n(74),function(){var e=N(),t=Object(o.a)(e,2),n=t[0].basket,a=t[1];return n.map((function(e){var t=e.id;return Object(c.jsxs)("div",{className:"basket_product",children:[Object(c.jsx)("div",{className:"basket_img",children:Object(c.jsx)("img",{src:e.image,alt:"img"})}),Object(c.jsx)("div",{className:"basket_info",children:Object(c.jsxs)("div",{className:"basket_item_title",children:[Object(c.jsx)("p",{children:e.title}),Object(c.jsxs)("p",{className:"basket_price",children:[Object(c.jsx)("small",{children:"$"}),Object(c.jsx)("strong",{children:e.price})]}),Object(c.jsx)("div",{className:"basket_rating",children:Array(e.rating).fill(null).map((function(e,t){return Object(c.jsx)("p",{className:"_basket_star",children:"\u2605"})}))}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"basket_button",onClick:function(e){a({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove from basket"})})]})})]})}))}),I=n(48),B=function(){var e=N(),t=Object(o.a)(e,2),n=t[0].user;t[1];return Object(c.jsxs)("div",{className:"basket_wrapper",children:[Object(c.jsxs)("div",{className:"basket_left",children:[Object(c.jsx)("img",{className:"basket_ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:""}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h3",{className:"basket_user",children:["Hello, ",null===n||void 0===n?void 0:n.email.split(".",1)[0]]}),Object(c.jsx)("h2",{className:"basket_title",children:"Your shooping basket"})]}),Object(c.jsx)(I.a,{verticalAlignment:"top",enterAnimation:"elevator",leaveAnimation:"elevator",children:w()})]}),Object(c.jsx)("div",{className:"basket_right",children:Object(c.jsx)(T,{})})]})},L=n(37),P=L.a.initializeApp({apiKey:"AIzaSyCAKPqsT5Ceq8k1X-SD_lZl3UGqMSFfru4",authDomain:"challange-2befc.firebaseapp.com",databaseURL:"https://challange-2befc.firebaseio.com",projectId:"challange-2befc",storageBucket:"challange-2befc.appspot.com",messagingSenderId:"761116713847",appId:"1:761116713847:web:640735f3fd875ec5c17772"}).firestore(),M=L.a.auth(),z=(n(79),function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(""),r=Object(o.a)(i,2),j=r[0],u=r[1],b=Object(d.f)();return Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)(l.b,{to:"/",children:Object(c.jsx)("img",{className:"amazon_logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:"img"})}),Object(c.jsxs)("div",{className:"login_container",children:[Object(c.jsx)("h1",{children:"Sign-In"}),Object(c.jsxs)("form",{children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("h5",{children:"Email:"}),Object(c.jsx)("input",{type:"email",value:n,onChange:function(e){return s(e.target.value)}})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("h5",{children:"Password"}),Object(c.jsx)("input",{type:"password",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),M.signInWithEmailAndPassword(n,j).then((function(e){b.push("/")})).catch((function(e){return alert(e.message)}))},className:"product_button",children:"Sign In"})]}),Object(c.jsx)("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),Object(c.jsx)("h6",{className:"new_amazon",children:"New to Amazon?"}),Object(c.jsx)("button",{className:"product_button register",onClick:function(e){e.preventDefault(),M.createUserWithEmailAndPassword(n,j).then((function(e){e&&b.push("/")})).catch((function(e){return alert(e.message)}))},children:"Create your Amazon account"})]})]})}),D=n(26),F=n.n(D),R=n(36),U=(n(81),n(22)),K=n(49),G=n.n(K).a.create({baseURL:"https://us-central1-challange-2befc.cloudfunctions.net/api"}),X=function(){var e=N(),t=Object(o.a)(e,2),n=t[0],s=n.basket,i=n.user,r=t[1],j=Object(a.useState)(null),u=Object(o.a)(j,2),b=u[0],m=u[1],O=Object(a.useState)(!0),h=Object(o.a)(O,2),p=h[0],x=h[1],v=Object(a.useState)(!1),g=Object(o.a)(v,2),f=g[0],_=g[1],S=Object(a.useState)(Boolean),k=Object(o.a)(S,2),y=k[0],E=k[1],T=Object(a.useState)("true"),I=Object(o.a)(T,2),B=I[0],L=I[1],M=Object(U.useStripe)(),z=Object(U.useElements)(),D=Object(d.f)(),K=null===z||void 0===z?void 0:z.getElement(U.CardElement);Object(a.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({method:"post",url:"/payments/create?total=".concat(100*A(s))});case 2:t=e.sent,L(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]);var X=function(){var e=Object(R.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(!0),e.next=4,null===M||void 0===M?void 0:M.confirmCardPayment(B,{payment_method:{card:K}}).then((function(e){var t=e.paymentIntent;P.collection("users").doc(null===i||void 0===i?void 0:i.uid).collection("orders").doc(null===t||void 0===t?void 0:t.id).set({basket:s,amount:null===t||void 0===t?void 0:t.amount,created:null===t||void 0===t?void 0:t.created}),_(!0),m(null),E(!1),r({type:"EMPTY_BASKET"}),D.replace("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"payment",children:Object(c.jsxs)("div",{className:"payment_container",children:[Object(c.jsxs)("h1",{children:["Checkout:",Object(c.jsxs)(l.b,{to:"/basket",children:["(",s.length," items)"]})]}),Object(c.jsxs)("div",{className:"payment_section",children:[Object(c.jsx)("div",{className:"payment_title",children:Object(c.jsx)("h3",{children:"Delivery Adress:"})}),Object(c.jsxs)("div",{className:"payment_adress",children:[Object(c.jsx)("p",{children:null===i||void 0===i?void 0:i.email}),Object(c.jsx)("p",{children:"Drottningsgatan 2,"}),Object(c.jsx)("p",{children:"Ume\xe5, Sweden"})]})]}),Object(c.jsxs)("div",{className:"payment_section",children:[Object(c.jsx)("div",{className:"payment_title",children:Object(c.jsx)("h3",{children:"Review items and delivery"})}),Object(c.jsx)("div",{className:"payment_items",children:w()})]}),Object(c.jsxs)("div",{className:"payment_section",children:[Object(c.jsx)("div",{className:"payment_title",children:Object(c.jsx)("h3",{children:"Payment Method"})}),Object(c.jsxs)("div",{className:"payment_details",children:[Object(c.jsxs)("div",{className:"payment_card_info",children:[Object(c.jsx)("h5",{className:"obs",children:"please fill the following test card information: "}),Object(c.jsx)("h6",{children:" visa number: 4242 4242 4242 4242 "}),Object(c.jsx)("h6",{children:"expire date :04/24"}),Object(c.jsx)("h6",{children:"CVC: 242"}),Object(c.jsx)("h6",{children:" zip: 42424"})]}),Object(c.jsxs)("form",{onSubmit:X,action:"",children:[Object(c.jsx)(U.CardElement,{onChange:function(e){x(e.empty),m(e.error?e.error.message:"")}}),Object(c.jsxs)("div",{className:"payment_price_container",children:[Object(c.jsx)(C.a,{renderText:function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("p",{children:["Order Total: ",Object(c.jsx)("strong",{children:e})]})})},decimalScale:2,value:A(s),displayType:"text",thousandSeparator:!0,prefix:"$"}),Object(c.jsx)("button",{disabled:y||f||p,className:"product_button",children:Object(c.jsx)("span",{children:y?Object(c.jsx)("p",{children:"Processing"}):"Buy Now"})})]}),b&&Object(c.jsx)("div",{children:b})]})]})]})]})})},H=n(50),V=n.n(H),W=(n(99),function(e){var t,n,a,s,i,r,o;return Object(c.jsxs)("div",{className:"order",children:[Object(c.jsx)("h2",{children:"Order"}),Object(c.jsx)("p",{children:V.a.unix(null===(t=e.order)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.created).format("MMMM do YYYY, h:mma")}),Object(c.jsx)("p",{className:"order_id",children:Object(c.jsx)("small",{children:null===(a=e.order)||void 0===a?void 0:a.id})}),Object(c.jsxs)("p",{className:"order_amount",children:["Order Total: $",Object(c.jsx)("small",{children:(null===(s=e.order)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.amount)/100})]}),Object(c.jsx)("div",{className:"order_products",children:null===(r=e.order)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.basket.map((function(e){return Object(c.jsx)(S,{id:e.id,title:null===e||void 0===e?void 0:e.title,price:null===e||void 0===e?void 0:e.price,rating:null===e||void 0===e?void 0:e.rating,image:null===e||void 0===e?void 0:e.image,hideButton:!0})}))})]})}),Y=(n(100),function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],i=N(),r=Object(o.a)(i,2),l=r[0],d=(l.basket,l.user);r[1];return Object(a.useEffect)((function(){d?P.collection("users").doc(null===d||void 0===d?void 0:d.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):s([])}),[d]),Object(c.jsxs)("div",{className:"orders",children:[Object(c.jsx)("h1",{children:"Your Orders"}),Object(c.jsx)("div",{className:"orders_order",children:null===n||void 0===n?void 0:n.map((function(e){return Object(c.jsx)(W,{order:e})}))})]})}),q=n(51),$=Object(q.a)("pk_test_51Ho3r8JvugdMxF8ptK82mSnk4hsk8ZrRKTMzIQNvBN3rjOBNLOgaw6Pltydw0AVgoTQIritC5oUxsOwqN4W1fbJ900aesaPkpU"),J=function(e){return Object(c.jsxs)(l.a,{children:[e.children,Object(c.jsxs)(d.c,{children:[Object(c.jsx)(d.a,{exact:!0,path:j,component:B}),Object(c.jsx)(d.a,{exact:!0,path:u,component:z}),Object(c.jsx)(d.a,{exact:!0,path:m,component:Y}),Object(c.jsx)(d.a,{exact:!0,path:b,children:Object(c.jsx)(U.Elements,{stripe:$,children:Object(c.jsx)(X,{})})}),Object(c.jsx)(d.a,{component:k})]})]})},Q=(n(101),n(102),n(52)),Z=n.n(Q),ee=n(53),te=n.n(ee),ne=function(){var e=N(),t=Object(o.a)(e,2),n=t[0],a=n.basket,s=n.user;t[1];return Object(c.jsxs)("div",{className:"navigation",children:[Object(c.jsx)(l.b,{to:"/",children:Object(c.jsx)("img",{className:"navigation_logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"img"})}),Object(c.jsxs)("div",{className:"navigation_search",children:[Object(c.jsx)("input",{className:"navigation_searchInput",type:"text"}),Object(c.jsx)(Z.a,{className:"navigation_searchIcon"})]}),Object(c.jsxs)("div",{className:"navigation_nav",children:[Object(c.jsx)(l.b,{to:s?"/":"/login",children:Object(c.jsxs)("div",{className:"navigation_option",onClick:function(){M&&M.signOut()},children:[Object(c.jsx)("span",{className:"navigation_optionLineOne",children:s?null===s||void 0===s?void 0:s.email.split("@",1)[0]:"Hello, "}),Object(c.jsx)("span",{className:"navigation_optionLineTwo",children:s?"Sign out":"Sign In"})]})}),Object(c.jsx)(l.b,{to:s?"/orders":"/",children:Object(c.jsxs)("div",{className:"navigation_option",children:[Object(c.jsx)("span",{className:"navigation_optionLineOne",children:"Returns"}),Object(c.jsx)("span",{className:"navigation_optionLineTwo",children:" & orders"})]})}),Object(c.jsxs)("div",{className:"navigation_option",children:[Object(c.jsx)("span",{className:"navigation_optionLineOne",children:"Your "}),Object(c.jsx)("span",{className:"navigation_optionLineTwo",children:"Prime"})]}),Object(c.jsx)(l.b,{to:"/basket",children:Object(c.jsxs)("div",{className:"navigation_optionBasket",children:[Object(c.jsx)(te.a,{}),Object(c.jsx)("span",{className:"navigation_optionLineTwo navigation_BasketCount",children:a.length})]})})]})]})};var ce=function(){var e=N(),t=Object(o.a)(e,2),n=(t[0].basket,t[1]);return Object(a.useEffect)((function(){M.onAuthStateChanged((function(e){console.log("the user is:...>>>",e),n(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),Object(c.jsx)(J,{children:Object(c.jsx)(ne,{})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(_,{initialState:{basket:[],user:null},reducer:E,children:Object(c.jsx)(ce,{})})}),document.getElementById("root")),ae()},38:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},74:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){},99:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.c1463d58.chunk.js.map