{"version":3,"sources":["routes/RoutingPaths.tsx","components/notifications/Notification.tsx","components/notifications/NotificationProvider.tsx","components/shared/provider/StateProvider.tsx","components/products/Product.tsx","views/homeView/HomeView.tsx","components/shared/provider/Reducer.tsx","components/subtotal/Subtotal.tsx","components/basket/Basket.tsx","views/basketview/BasketView.tsx","components/shared/provider/firebase.js","views/loginView/LoginView.tsx","components/shared/provider/axios.tsx","views/checkoutView/CheckoutView.tsx","components/orders/Order.tsx","views/ordersView/OrdersView.tsx","routes/Routing.tsx","components/shared/navigation/Navigation.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Notification","props","useState","exit","setExit","width","setWidth","intervalID","setIntervalID","handleStartTimer","id","setInterval","console","log","prev","clearInterval","handlePauseTimer","Number","useEffect","setTimeout","dispatch","type","onMouseEnter","onMouseLeave","className","src","image","message","style","NotificationContext","createContext","NotificationProvider","useReducer","state","action","payload","filter","el","Provider","value","map","note","children","StateContext","StateProvider","reducer","initialState","useStateValue","useContext","Product","title","price","rating","hideButton","dispatchNote","v4","useNotification","basket","Array","fill","_","i","alt","onClick","item","substr","Home","getBasketTotal","reduce","amount","index","findIndex","basketItem","newBasket","splice","warn","user","length","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","Basket","Item","BasketView","email","split","verticalAlignment","enterAnimation","leaveAnimation","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","auth","LoginView","setEmail","password","setPassword","to","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","createUserWithEmailAndPassword","instance","Axios","create","baseURL","CheckoutView","setError","disabled","setDisabled","succeeded","setSucceeded","Boolean","processing","setProcessing","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","cardItem","getElement","CardElement","a","axios","method","url","responce","data","getClientSecret","handleSubmit","confirmCardPayment","payment_method","card","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Orders","order","moment","unix","format","orderproduct","OrdersView","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","Routing","exact","path","RoutingPaths","component","HomeView","Navigation","signOut","App","onAuthStateChanged","authUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b86db95b.chunk.js","sourcesContent":["const homeView = \"/\";\nconst BasketView = \"/basket\";\nconst LoginView = \"/login\";\nconst CheckoutView = \"/checkout\";\nconst OrdersView = \"/orders\";\nexport default {\n  homeView,\n  BasketView,\n  LoginView,\n  CheckoutView,\n  OrdersView,\n};\n","import React, { useEffect, useState } from \"react\";\nimport \"./Notification.css\";\nexport const Notification = (props: any): JSX.Element => {\n  const [exit, setExit] = useState(false);\n  const [width, setWidth] = useState(0);\n  const [intervalID, setIntervalID]: [\n    null | NodeJS.Timeout,\n    (interval: null | NodeJS.Timeout) => void\n  ] = useState<null | NodeJS.Timeout>(null);\n\n  const handleStartTimer = () => {\n    const id = setInterval(() => {\n      console.log(\"this is INSIDE ID---<<<< \", id);\n      setWidth((prev) => {\n        if (prev < 100) {\n          return prev + 0.5;\n        }\n\n        clearInterval(id); // This will stop and clear the interval, if not it will loop 100 all the time\n        return prev;\n      });\n    }, 20);\n\n    setIntervalID(id);\n  };\n\n  const handlePauseTimer = () => {\n    clearInterval(Number(intervalID));\n  };\n\n  const handleCloseNotification = () => {\n    handlePauseTimer();\n    setExit(true);\n    setTimeout(() => {\n      props.dispatch({\n        type: \"REMOVE_NOTIFICATION\",\n        id: props.id,\n      });\n    }, 900);\n  };\n\n  useEffect(() => {\n    if (width === 100) {\n      // Close notification\n      handleCloseNotification();\n    }\n  }, [width]);\n\n  useEffect(() => {\n    handleStartTimer();\n  }, []);\n\n  return (\n    <div\n      onMouseEnter={handlePauseTimer}\n      onMouseLeave={handleStartTimer}\n      // eslint-disable-next-line prettier/prettier\n      className={`notification_item ${props.type === \"SUCCESS\" ? \"success\" : \"error\"} ${exit ? \"exit\" : \"\"\n        // eslint-disable-next-line prettier/prettier\n        }`}\n    >\n      <h4 className=\"notification_title\">Number of item(s) added: </h4>\n      <div className=\"itemInfo\">\n        <img className=\"itemSmall\" src={props.image} />\n        <p>{props.message}</p>\n      </div>\n      <div className=\"bar\" style={{ width: `${width}%` }} />\n    </div>\n  );\n};\n\nexport default Notification;\n","import Notifications from \"./Notification\";\nimport \"./NotificationProvider.css\";\nimport { v4 } from \"uuid\";\nimport React, { createContext, useContext, useReducer } from \"react\";\n\nconst NotificationContext = createContext<any | null>(null);\n\nexport const NotificationProvider = (props: any): JSX.Element => {\n  const [state, dispatch] = useReducer(\n    (state: any, action: any) => {\n      switch (action.type) {\n        case \"ADD_NOTIFICATION\":\n          return [...state, { ...action.payload }];\n        case \"REMOVE_NOTIFICATION\":\n          return state.filter((el: any) => el.id !== action.id); // this returns an array\n        default:\n          return state;\n      }\n    },\n    []\n    // [{ id: v4(), type: \"SUCCESS\", message: \"HELLOS WOLRD\" }]\n  );\n\n  //console.log(\"THIS ARE NOTIFOCATIONS: \", notifications);\n  return (\n    <NotificationContext.Provider value={dispatch}>\n      <div className=\"notification_wrapper\">\n        {state.map((note: any) => {\n          return <Notifications dispatch={dispatch} key={note.id} {...note} />;\n        })}\n      </div>\n      <div>{props.children}</div>\n    </NotificationContext.Provider>\n  );\n};\n\nexport const useNotification = () => {\n  const dispatch = useContext(NotificationContext);\n\n  return (props: any) => {\n    dispatch({\n      type: \"ADD_NOTIFICATION\",\n      payload: {\n        id: v4(),\n        ...props,\n      },\n    });\n  };\n};\n\nexport default NotificationProvider;\n","import React, { createContext, useContext, useReducer } from \"react\";\nimport reducer, { initialState } from \"./Reducer\";\n\n// Prepares the dataLayer\nexport const StateContext = createContext({});\n\n// Wrap our app and provide the Data layer\nexport const StateProvider = ({\n  reducer,\n  initialState,\n  children,\n}: {\n  reducer: any;\n  initialState: any;\n  children: any;\n}): JSX.Element => {\n  // console.log(\"THIS IS SINSIDE SATEPROVIDER reducer\", children);\n  return (\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\n      {children}\n    </StateContext.Provider>\n  );\n};\n// Pull information from the data layer\nexport const useStateValue = (): any => useContext(StateContext);\n","// import { ContactSupportOutlined } from \"@material-ui/icons\";\nimport React, { useState } from \"react\";\nimport { useNotification } from \"../notifications/NotificationProvider\";\nimport { useStateValue } from \"../shared/provider/StateProvider\";\nimport \"./Produc.css\";\n//import { BL } from \"../shared/provider/Reducer\";\n\nconst Product = ({\n  title,\n  price,\n  rating,\n  image,\n  id,\n  hideButton,\n}: {\n  id: string;\n  title: string;\n  price: number;\n  rating: number;\n  image: string;\n  hideButton?: boolean;\n}): JSX.Element => {\n  const dispatchNote = useNotification();\n  const [{ basket }, dispatch] = useStateValue();\n\n  const addToBasket = (): any => {\n    //dispatch the item into the data layer\n\n    dispatch({\n      type: \"ADD_TO_BASKET\",\n      item: {\n        id: id,\n        title: title,\n        image: image,\n        price: price,\n        rating: rating,\n      },\n    });\n  };\n\n  const notifi = () => {\n    dispatch({\n      type: \"DEFAULT\",\n    });\n\n    dispatchNote({\n      type: \"SUCCESS\",\n      image: image,\n      message: title.substr(0, 27),\n    });\n  };\n\n  const onClickAction = () => {\n    addToBasket();\n    notifi();\n  };\n  return (\n    <div className=\"product\">\n      <div className=\"product_info\">\n        <p>{title}</p>\n        <p className=\"product_price\">\n          <small>$</small>\n          <strong>{price}</strong>\n        </p>\n\n        <div className=\"product_rating\">\n          {Array(rating)\n            .fill(null)\n            .map((_, i: number) => (\n              <p className=\"_product_star\">★</p>\n            ))}\n        </div>\n      </div>\n      <div className=\"product_img\">\n        <img src={image} alt=\"product_image\" />\n      </div>\n\n      <div>\n        {!hideButton && (\n          <div>\n            <button className=\"product_button\" onClick={onClickAction}>\n              Add to basket\n            </button>\n            {/* {notifi} */}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Product;\n","import React from \"react\";\nimport Product from \"../../components/products/Product\";\nimport \"./HomeView.css\";\nimport \"../../components/shared/global/global.css\";\nimport NotificationProvider from \"../../components/notifications/NotificationProvider\";\n\nconst Home = (): JSX.Element => {\n  return (\n    <div className=\"home\">\n      <NotificationProvider>\n        <div className=\"home_container\">\n          <img\n            className=\"home_image\"\n            src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\n            alt=\"banner image\"\n          />\n          <div className=\"home_row\">\n            <Product\n              id=\"12321341\"\n              title=\"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback\"\n              price={11.96}\n              rating={5}\n              image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg\"\n            />\n            <Product\n              id=\"49538094\"\n              title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\n              price={69.0}\n              rating={4}\n              image=\"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg\"\n            />\n          </div>\n          <div className=\"home_row\">\n            <Product\n              id=\"4903850\"\n              title=\"Samsung Fitness tracker \"\n              price={199.99}\n              rating={3}\n              image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"\n            />\n            <Product\n              id=\"23445930\"\n              title=\"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric\"\n              price={100.0}\n              rating={3}\n              image=\"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$\"\n            />\n            <Product\n              id=\"3254354345\"\n              title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\n              price={200.0}\n              rating={4}\n              image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\n            />\n          </div>\n          <div className=\"home_row\">\n            <Product\n              id=\"90829332\"\n              title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\n              price={239.0}\n              rating={5}\n              image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\n            />\n          </div>\n        </div>\n      </NotificationProvider>\n    </div>\n  );\n};\n\nexport default Home;\n","export const initialState = {\n  basket: [],\n  user: null,\n};\n\n// Selector ES6 WAY, is very higly use in production enviroment!!!!!!\nexport const getBasketTotal = (basket: []): number =>\n  basket?.reduce((amount: number, item: any): number => {\n    return item.price + amount;\n  }, 0);\n\nconst reducer = (state: any, action: any) => {\n  const BL = () => state.basket.length;\n\n  console.log(\"this is the action: \", action);\n  switch (action.type) {\n    case \"ADD_TO_BASKET\": {\n      return {\n        ...state,\n        basket: [...state.basket, action.item],\n      };\n    }\n\n    case \"REMOVE_FROM_BASKET\": {\n      const index = state.basket.findIndex((basketItem: any) => {\n        return basketItem.id === action.id;\n        // console.log(\"the basketItem.id to remove is : \", basketItem.id);\n        // console.log(\"the action.id to remove is : \", action.id);\n      });\n      console.log(\"This is the new IIIINDEX\", index);\n      const newBasket = [...state.basket];\n      console.log(\"This is the new NEWBASKEtttTTTT\", newBasket);\n\n      if (index >= 0) {\n        newBasket.splice(index, 1);\n        console.warn(\"Item INDEX IS:\", index);\n      } else {\n        console.warn(`Cant remove product (id: ${action.id}) as is not in the basket!`);\n      }\n      return { ...state, basket: newBasket };\n    }\n\n    case \"SET_USER\": {\n      return {\n        ...state,\n        user: action.user,\n      };\n    }\n\n    case \"EMPTY_BASKET\": {\n      console.log(\"This INSIDE EMPTY BASKET...\", state.basket);\n      return { ...state, basket: [] };\n    }\n\n    case \"DEFAULT\": {\n      console.log(\"inside DEFAULT: \", BL);\n      return {\n        ...state,\n        basket: [...state.basket],\n      };\n    }\n    // default:\n    //   return state;\n  }\n\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\nexport default reducer;\n","import React from \"react\";\nimport \"./Subtotal.css\";\nimport \"../shared/global/global.css\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { useStateValue } from \"../shared/provider/StateProvider\";\nimport { getBasketTotal } from \"../shared/provider/Reducer\";\nimport { useHistory } from \"react-router-dom\";\n//import Basket from \"../../components/basket/Basket\";\nconst Subtotal = (): JSX.Element => {\n  const history = useHistory();\n  const [{ basket }, dispatch] = useStateValue();\n  console.log(\"THIS IS INSIDE SUBTOTAL BASKET:\", basket);\n\n  return (\n    <div className=\"subtotal\">\n      <CurrencyFormat\n        renderText={(value: any): JSX.Element => (\n          <>\n            <p>\n              {/* Part of the homework */}\n              Subtotal ({basket.length} items): <strong>{value}</strong>\n            </p>\n            <small className=\"subtotal__gift\">\n              <input type=\"checkbox\" /> This order contains a gift!!\n            </small>\n          </>\n        )}\n        decimalScale={2}\n        //value={0}\n        value={getBasketTotal(basket)} // Part of the homework\n        displayType={\"text\"}\n        thousandSeparator={true}\n        prefix={\"$\"}\n      />\n\n      <button className=\"product_button\" onClick={(e: any) => history.push(\"/checkout\")}>\n        Proceed to Checkout\n      </button>\n    </div>\n  );\n};\nexport default Subtotal;\n","import React from \"react\";\n//import FlipMove from \"react-flip-move\";\n//import Subtotal from \"../../components/subtotal/Subtotal\";\n// import \"./BasketView.css\";\nimport { useStateValue } from \"../../components/shared/provider/StateProvider\";\nimport Product from \"../products/Product\";\n// const Basket = (hideButton: any): any => {\nconst Basket = (): any => {\n  const [{ basket }, dispatch] = useStateValue();\n\n  const basketItems2 = basket.map(\n    (Item: any): JSX.Element => {\n      console.log(\"THIS IS THE ID:\", Item.id);\n      const id = Item.id;\n      console.log(\"this is the basket id before remove function.......: \", id);\n      const RemoveFromBasket = (props: any) => {\n        console.log(\"this is the basket id inside RemoveFromBasket.......: \", id);\n        // console.log(\"this is the hidebutton.......: \", hideButton);\n        dispatch({\n          type: \"REMOVE_FROM_BASKET\",\n          id: id,\n        });\n      };\n      return (\n        <div className=\"basket_product\">\n          <div className=\"basket_img\">\n            <img src={Item.image} alt=\"img\" />\n          </div>\n\n          <div className=\"basket_info\">\n            <div className=\"basket_item_title\">\n              <p>{Item.title}</p>\n\n              <p className=\"basket_price\">\n                <small>$</small>\n                <strong>{Item.price}</strong>\n              </p>\n              <div className=\"basket_rating\">\n                {Array(Item.rating)\n                  .fill(null)\n                  .map((_, i: number) => (\n                    <p className=\"_basket_star\">★</p>\n                  ))}\n              </div>\n              <div>\n                {/* {!hideButton && ( */}\n                <button className=\"basket_button\" onClick={RemoveFromBasket}>\n                  Remove from basket\n                </button>\n                {/* )} */}\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  );\n\n  // return <FlipMove>{basketItems2}</FlipMove>;\n\n  return basketItems2;\n};\nexport default Basket;\n","import React from \"react\";\nimport Subtotal from \"../../components/subtotal/Subtotal\";\nimport \"./BasketView.css\";\nimport { useStateValue } from \"../../components/shared/provider/StateProvider\";\nimport Basket from \"../../components/basket/Basket\";\n//import Product from \"../../components/products/Product\";\nimport { auth } from \"../../components/shared/provider/firebase\";\nimport FlipMove from \"react-flip-move\";\n\nconst BasketView = (): JSX.Element => {\n  const [{ basket, user }, dispatch] = useStateValue();\n  // const hideButton = false;\n  return (\n    <div className=\"basket_wrapper\">\n      <div className=\"basket_left\">\n        <img\n          className=\"basket_ad\"\n          src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\n          alt=\"\"\n        />\n        <div>\n          <h3 className=\"basket_user\">Hello, {user?.email.split(\".\", 1)[0]}</h3>\n          <h2 className=\"basket_title\">Your shooping basket</h2>\n        </div>\n        {/* {Basket(hideButton)} */}\n        <FlipMove verticalAlignment=\"top\" enterAnimation=\"elevator\" leaveAnimation=\"elevator\">\n          {Basket()}\n        </FlipMove>\n      </div>\n      <div className=\"basket_right\">\n        <Subtotal />\n      </div>\n    </div>\n  );\n};\nexport default BasketView;\n","import firebase from \"firebase\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCAKPqsT5Ceq8k1X-SD_lZl3UGqMSFfru4\",\n  authDomain: \"challange-2befc.firebaseapp.com\",\n  databaseURL: \"https://challange-2befc.firebaseio.com\",\n  projectId: \"challange-2befc\",\n  storageBucket: \"challange-2befc.appspot.com\",\n  messagingSenderId: \"761116713847\",\n  appId: \"1:761116713847:web:640735f3fd875ec5c17772\",\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\n\nexport { db, auth };\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { auth } from \"../../components/shared/provider/firebase\";\nimport \"./LoginView.css\";\n\nconst LoginView = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const history = useHistory();\n\n  const signIn = (e: any) => {\n    e.preventDefault();\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .then((auth) => {\n        history.push(\"/\");\n      })\n      .catch((error) => alert(error.message));\n    console.log(\"email and passwprd here: \", email, password);\n  };\n\n  const register = (e: any) => {\n    e.preventDefault();\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((auth) => {\n        if (auth) {\n          history.push(\"/\");\n        }\n        console.log(auth);\n      })\n      .catch((error) => alert(error.message));\n    console.log(\"email and passwprd here: \", email, password);\n  };\n  return (\n    <div className=\"login\">\n      <Link to=\"/\">\n        <img\n          className=\"amazon_logo\"\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\n          alt=\"img\"\n        />\n      </Link>\n      <div className=\"login_container\">\n        <h1>Sign-In</h1>\n        <form>\n          <label>\n            <h5>Email:</h5>\n            <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n          </label>\n          <label>\n            <h5>Password</h5>\n            <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n          </label>\n          <button type=\"submit\" onClick={signIn} className=\"product_button\">\n            Sign In\n          </button>\n        </form>\n        <p>\n          By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our\n          Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice.\n        </p>\n\n        <h6 className=\"new_amazon\">New to Amazon?</h6>\n\n        <button className=\"product_button register\" onClick={register}>\n          Create your Amazon account\n        </button>\n      </div>\n    </div>\n  );\n};\nexport default LoginView;\n","import Axios from \"axios\";\n\nconst instance = Axios.create({\n  // baseURL: \"http://localhost:5001/challange-2befc/us-central1/api\",\n  baseURL: \"https://us-central1-challange-2befc.cloudfunctions.net/api\",\n});\n\nexport default instance;\n","import React, { useEffect, useState } from \"react\";\nimport Basket from \"../../components/basket/Basket\";\nimport { useStateValue } from \"../../components/shared/provider/StateProvider\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"./CheckoutView.css\";\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { getBasketTotal } from \"../../components/shared/provider/Reducer\";\nimport { ContactSupportOutlined } from \"@material-ui/icons\";\n// import { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport axios from \"../../components/shared/provider/axios\";\nimport { db } from \"../../components/shared/provider/firebase\";\n\n// const promise = loadStripe(\n//   \"pk_test_51Ho3r8JvugdMxF8ptK82mSnk4hsk8ZrRKTMzIQNvBN3rjOBNLOgaw6Pltydw0AVgoTQIritC5oUxsOwqN4W1fbJ900aesaPkpU\"\n// );\nconst CheckoutView = (): any => {\n  const [{ basket, user }, dispatch] = useStateValue();\n  const [error, setError] = useState(null);\n  const [disabled, setDisabled] = useState(true);\n  const [succeeded, setSucceeded] = useState(false);\n  const [processing, setProcessing] = useState(Boolean);\n  const [clientSecret, setClientSecret] = useState(\"true\");\n  const stripe = useStripe();\n  const elements = useElements();\n  const history = useHistory();\n  const cardItem = elements?.getElement(CardElement);\n  const hideButton = false;\n\n  useEffect(() => {\n    // generates the special stripe secret wich allow us to charge a customer\n    const getClientSecret = async () => {\n      const responce = await axios({\n        method: \"post\",\n        // Stripe expect the currency total in subunits  so put * 100\n        url: `/payments/create?total=${getBasketTotal(basket) * 100}`,\n      });\n      setClientSecret(responce.data.clientSecret);\n    };\n\n    getClientSecret();\n    console.log(\"this is clientsectet2222: >>>>\", clientSecret);\n  }, [basket]); // whenever the basket changes, make the request and update the special stripe secret that allow us to charge the custumers correct ammount\n\n  const handleSubmit = async (e: any) => {\n    console.log(\"e.target.value\");\n    e.preventDefault();\n    setProcessing(true);\n    const payload: any = await stripe\n      ?.confirmCardPayment(clientSecret, {\n        payment_method: {\n          card: cardItem!,\n        },\n      })\n      .then(({ paymentIntent }) => {\n        db.collection(\"users\").doc(user?.uid).collection(\"orders\").doc(paymentIntent?.id).set({\n          basket: basket,\n          amount: paymentIntent?.amount,\n          created: paymentIntent?.created,\n        });\n\n        setSucceeded(true);\n        setError(null);\n        setProcessing(false);\n\n        dispatch({\n          type: \"EMPTY_BASKET\",\n        });\n        console.log(\"BASKET EMPTY?<<<<<<<<<--------<<<<<<<<<\");\n        history.replace(\"/orders\");\n      });\n  };\n  const handleChange = (e: any) => {\n    setDisabled(e.empty);\n    setError(e.error ? e.error.message : \"\");\n  };\n\n  return (\n    // <Elements stripe={promise}>\n    <div className=\"payment\">\n      <div className=\"payment_container\">\n        <h1>\n          Checkout:\n          <Link to=\"/basket\">({basket.length} items)</Link>\n        </h1>\n        {/* PAYMENT SECTION - PAYMENT ADRESS */}\n\n        <div className=\"payment_section\">\n          <div className=\"payment_title\">\n            <h3>Delivery Adress:</h3>\n          </div>\n          <div className=\"payment_adress\">\n            <p>{user?.email}</p>\n            <p>Drottningsgatan 2,</p>\n            <p>Umeå, Sweden</p>\n          </div>\n        </div>\n        {/* PAYMENT SECTION - REVIEW ITEMS */}\n\n        <div className=\"payment_section\">\n          <div className=\"payment_title\">\n            <h3>Review items and delivery</h3>\n          </div>\n          {/* <div className=\"payment_items\">{Basket(hideButton)}</div> */}\n          <div className=\"payment_items\">{Basket()}</div>\n        </div>\n        {/* PAYMENT SECTION - PAYMENT METHOD */}\n        <div className=\"payment_section\">\n          <div className=\"payment_title\">\n            <h3>Payment Method</h3>\n          </div>\n          <div className=\"payment_details\">\n            <div className=\"payment_card_info\">\n              <h5 className=\"obs\">please fill the following test card information: </h5>\n              <h6> visa number: 4242 4242 4242 4242 </h6>\n              <h6>expire date :04/24</h6>\n              <h6>CVC: 242</h6>\n              <h6> zip: 42424</h6>\n            </div>\n            {/* Stripe magic */}\n            <form onSubmit={handleSubmit} action=\"\">\n              <CardElement onChange={handleChange} />\n              <div className=\"payment_price_container\">\n                <CurrencyFormat\n                  renderText={(value: any): JSX.Element => (\n                    <>\n                      <p>\n                        Order Total: <strong>{value}</strong>\n                      </p>\n                    </>\n                  )}\n                  decimalScale={2}\n                  value={getBasketTotal(basket)}\n                  displayType={\"text\"}\n                  thousandSeparator={true}\n                  prefix={\"$\"}\n                />\n                <button disabled={processing || succeeded || disabled} className=\"product_button\">\n                  <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\n                </button>\n              </div>\n              {error && <div>{error}</div>}\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n    // </Elements>\n  );\n};\nexport default CheckoutView;\n","import React, { useState } from \"react\";\nimport Basket from \"../basket/Basket\";\nimport moment from \"moment\";\nimport \"./Order.css\";\nimport Product from \"../products/Product\";\n\n// interface StateProperties {\n//   id: string;\n//   data: any;\n// }\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst Orders = (order: any) => {\n  //const [orders, setOrders] = useState<StateProperties>(order);\n  //const [order, setOrders] = useState();\n  //const hideButton = true;\n  console.log(\"THIS A RE ORDERS INSIDE ORDER.JS\", order);\n  // console.log(\n  //   \"this is the basket orders:::::::::\",\n  //   order.order.map((dataitem: any) => dataitem.data.basket.map((img: any) => img.image))\n  // );\n\n  return (\n    <div className=\"order\">\n      <h2>Order</h2>\n      <p>{moment.unix(order.order?.data?.created).format(\"MMMM do YYYY, h:mma\")}</p>\n      <p className=\"order_id\">\n        <small>{order.order?.id}</small>\n      </p>\n      {/* {order.order.map((dataitem: any) => dataitem.data.basket.map((img: any) => img.price))} */}\n      {/* {Basket(hideButton)} */}\n      <p className=\"order_amount\">\n        Order Total: $<small>{order.order?.data?.amount / 100}</small>\n      </p>\n      {/* here finis the order.js */}\n      <div className=\"order_products\">\n        {order.order?.data?.basket.map((orderproduct: any) => (\n          <Product\n            id={orderproduct.id}\n            title={orderproduct?.title}\n            price={orderproduct?.price}\n            rating={orderproduct?.rating}\n            image={orderproduct?.image}\n            hideButton={true}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\nexport default Orders;\n","import React, { useEffect, useState } from \"react\";\nimport { db } from \"../../components/shared/provider/firebase\";\nimport { useStateValue } from \"../../components/shared/provider/StateProvider\";\nimport Order from \"../../components/orders/Order\";\nimport \"./OrdersView.css\";\n\ninterface StateProperties {\n  id: string;\n  data: any;\n}\n\nconst OrdersView = () => {\n  const [orders, setOrders] = useState<StateProperties[]>([]);\n  const [{ basket, user }, dispatch] = useStateValue();\n  console.log(\"this is orders>>>>><<<\", orders);\n  useEffect(() => {\n    if (user) {\n      db.collection(\"users\")\n        .doc(user?.uid)\n        .collection(\"orders\")\n        .orderBy(\"created\", \"desc\")\n        .onSnapshot((snapshot) => {\n          return setOrders(\n            snapshot.docs.map((doc) => {\n              return {\n                id: doc.id,\n                data: doc.data(),\n              };\n            })\n          );\n        });\n    } else {\n      setOrders([]);\n    }\n  }, [user]);\n  console.log(\"this is orders AFTER USEEFFECT>>>>><<<\", orders);\n  return (\n    <div className=\"orders\">\n      <h1>Your Orders</h1>\n      <div className=\"orders_order\">\n        {orders?.map((\n          order //Goes trough every order from the  database ans sen it to Order.tsx\n        ) => (\n          <Order order={order} />\n        ))}\n        {/* <Order order={orders} /> */}\n      </div>\n    </div>\n  );\n};\nexport default OrdersView;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport RoutingPaths from \"./RoutingPaths\";\nimport HomeView from \"../views/homeView/HomeView\";\nimport BasketView from \"../views/basketview/BasketView\";\nimport LoginView from \"../views/loginView/LoginView\";\nimport CheckoutView from \"../views/checkoutView/CheckoutView\";\nimport OrdersView from \"../views/ordersView/OrdersView\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n// import { Elements } from \"@stripe/react-stripe-js\";\n\nconst promise = loadStripe(\n  \"pk_test_51Ho3r8JvugdMxF8ptK82mSnk4hsk8ZrRKTMzIQNvBN3rjOBNLOgaw6Pltydw0AVgoTQIritC5oUxsOwqN4W1fbJ900aesaPkpU\"\n);\n\nexport const Routing = (props: any): JSX.Element => {\n  return (\n    <Router>\n      {/*in this case the props children are the sub elements from App.js <Routing></Routing>*/}\n      {props.children}\n\n      <Switch>\n        <Route exact path={RoutingPaths.BasketView} component={BasketView}></Route>\n\n        <Route exact path={RoutingPaths.LoginView} component={LoginView}></Route>\n        <Route exact path={RoutingPaths.OrdersView} component={OrdersView}></Route>\n\n        {/* <Elements stripe={promise}> */}\n        <Route exact path={RoutingPaths.CheckoutView}>\n          <Elements stripe={promise}>\n            <CheckoutView />\n          </Elements>\n        </Route>\n        {/* </Elements> */}\n        {/*  */}\n        <Route component={HomeView} />\n      </Switch>\n    </Router>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Navigation.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\n//import Basket from \"../../basket/Basket\";\nimport { useStateValue } from \"../provider/StateProvider\";\nimport { auth } from \"../provider/firebase\";\n\nconst Navigation = (): JSX.Element => {\n  const [{ basket, user }, dispatch] = useStateValue();\n\n  const signOut = () => {\n    if (auth) {\n      auth.signOut();\n    }\n  };\n  //   dispatch({\n  //     type: \"SET_USER\",\n  //     user: null,\n  //   });\n  // };\n  return (\n    <div className=\"navigation\">\n      {/* logo */}\n      <Link to=\"/\">\n        <img\n          className=\"navigation_logo\"\n          src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\n          alt=\"img\"\n        />\n      </Link>\n      <div className=\"navigation_search\">\n        <input className=\"navigation_searchInput\" type=\"text\" />\n\n        <SearchIcon className=\"navigation_searchIcon\"></SearchIcon>\n      </div>\n\n      <div className=\"navigation_nav\">\n        <Link to={!user && \"/login\" ? \"/login\" : \"/\"}>\n          <div className=\"navigation_option\" onClick={signOut}>\n            <span className=\"navigation_optionLineOne\">\n              {user ? user?.email.split(\"@\", 1)[0] : \"Hello, \"}\n            </span>\n\n            <span className=\"navigation_optionLineTwo\">{user ? \"Sign out\" : \"Sign In\"}</span>\n          </div>\n        </Link>\n\n        {/* <Link to=\"/orders\"> */}\n        <Link to={!user && \"/login\" ? \"/\" : \"/orders\"}>\n          <div className=\"navigation_option\">\n            <span className=\"navigation_optionLineOne\">Returns</span>\n            <span className=\"navigation_optionLineTwo\"> & orders</span>\n          </div>\n        </Link>\n\n        {/* <div className=\"navigation_option\">\n          <span className=\"navigation_optionLineOne\">Returns</span>\n          <span className=\"navigation_optionLineTwo\"> & orders</span>\n        </div> */}\n\n        <div className=\"navigation_option\">\n          <span className=\"navigation_optionLineOne\">Your </span>\n          <span className=\"navigation_optionLineTwo\">Prime</span>\n        </div>\n        <Link to=\"/basket\">\n          <div className=\"navigation_optionBasket\">\n            <ShoppingBasketIcon />\n            <span className=\"navigation_optionLineTwo navigation_BasketCount\">{basket.length}</span>\n          </div>\n        </Link>\n      </div>\n    </div>\n  );\n};\nexport default Navigation;\n","import React, { useEffect } from \"react\";\nimport { Routing } from \"./routes/Routing\";\nimport \"./App.css\";\nimport Navigation from \"./components/shared/navigation/Navigation\";\nimport { auth } from \"./components/shared/provider/firebase\";\nimport { useStateValue } from \"./components/shared/provider/StateProvider\";\n\nfunction App(): JSX.Element {\n  const [{ basket }, dispatch] = useStateValue();\n  useEffect(() => {\n    auth.onAuthStateChanged((authUser) => {\n      console.log(\"the user is:...>>>\", authUser);\n      if (authUser) {\n        dispatch({\n          type: \"SET_USER\",\n          user: authUser,\n        });\n      } else {\n        dispatch({\n          type: \"SET_USER\",\n          user: null,\n        });\n      }\n    });\n  }, []);\n  return (\n    <Routing>\n      <Navigation />\n    </Routing>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport reducer, { initialState } from \"./components/shared/provider/Reducer\";\nimport { StateProvider } from \"./components/shared/provider/StateProvider\";\nReactDOM.render(\n  <React.StrictMode>\n    {/* Wrapping the app with StateProvider so that every component cna access the data layer  */}\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}